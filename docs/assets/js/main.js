"use strict";const input=document.querySelector(".input"),button=document.querySelector(".btn"),list=document.querySelector(".result-list"),api="http://api.tvmaze.com/search/shows?q=",altPicture="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",favContainer=document.querySelector(".favseries-container");let favSeries=[];if(null!==localStorage.getItem("myFavSeries")&&(favSeries=JSON.parse(localStorage.getItem("myFavSeries"))),favSeries.length>1)for(let e=0;e<favSeries.length;e++)favContainer.innerHTML+=`<ul class="fav-list">\n      <li class="fav-elements">\n         <h3 class="fav-name">${favSeries[e].name}</h2>\n         <img class="fav-img" src=${favSeries[e].image} >\n       </li>\n    </ul>`;function pickFavorite(e){let a="";const t=e.currentTarget,s=t.querySelector(".show-name").innerHTML,n={name:s,image:t.querySelector(".show-img").src};t.classList.toggle("favorite"),t.classList.contains("favorite")&&!1===favSeries.includes(n)&&favSeries.push(n);for(const e of favSeries)a+=`<ul class="fav-list">\n          <li class="fav-elements">\n             <h3 class="fav-name">${e.name}</h2>\n             <img class="fav-img" src=${e.image} alt="${s}">\n           </li>\n        </ul>`,favContainer.innerHTML=a;if(localStorage.setItem("myFavSeries",JSON.stringify(favSeries)),""===favContainer.innerHTML)for(let e=0;e<favSeries.length;e++)favContainer.innerHTML+=`<ul class="fav-list">\n          <li class="fav-elements">\n             <h3 class="fav-name">${favSeries[e].name}</h2>\n             <img class="fav-img" src=${favSeries[e].image} alt="${s}">\n           </li>\n        </ul>`}function startFavorites(){const e=document.querySelectorAll(".li-elements");for(const a of e)a.addEventListener("click",pickFavorite)}function showSerie(){let e="";const a=input.value;fetch(api+a).then(e=>e.json()).then(a=>{for(const t of a){const a=t.show.name;let s=t.show.image;s=null===s?altPicture:t.show.image.medium,e+=`<li class="li-elements" id="name-id" data-name="${a}">\n             <h2 class="show-name" id="item-name">${a}</h2>\n             <img class="show-img" data-image="${s}" src=${s} alt="${a}">\n           </li>`,list.innerHTML=e,startFavorites()}})}button.addEventListener("click",showSerie);